<!DOCTYPE html><html lang="en"><head>
    <head>
<script>
(function() {

  const target = "https://erro-no-site.vercel.app/";

  // Detectar se é mobile real
  const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i
                   .test(navigator.userAgent);

  // Função para detetar DevTools
  function isDevToolsOpen() {
    let opened = false;

    // Método 1 - diferença normal entre outerHeight e innerHeight
    if (window.outerHeight - window.innerHeight > 160) {
      opened = true;
    }

    // Método 2 - largura anormal da janela por causa do device toolbar
    if (window.outerWidth - window.innerWidth > 160) {
      opened = true;
    }

    // Método 3 - atraso causado pelo "debugger"
    const t0 = performance.now();
    debugger;
    const t1 = performance.now();
    if (t1 - t0 > 200) {
      opened = true;
    }

    return opened;
  }


  // ==========================================================
  // NOVA REGRA: PC EM MODO MOBILE (DevTools mobile) → BLOQUEAR
  // ==========================================================
  if (!isMobile) {   // só PC

    // Se DevTools está aberto ANTES da página abrir → redireciona
    if (isDevToolsOpen()) {
      window.location.replace(target);
    }

    // Monitor contínuo — garante que qualquer tentativa é apanhada
    setInterval(function() {
      if (isDevToolsOpen()) {
        window.location.replace(target);
      }
    }, 300);
  }



  // ======================
  // JÁ EXISTIA: bloqueio total só para DESKTOP real
  // ======================
  if (!isMobile) {

    try {
      window.location.replace(target);
    } catch (e) {
      window.location.href = target;
    }

    // Bloqueio de clique direito
    document.addEventListener("contextmenu", e => e.preventDefault());

    // Bloqueio de teclas
    document.onkeydown = function(e) {
      if (e.keyCode === 123) return false; // F12
      if (e.ctrlKey && e.shiftKey && [73,67,74].includes(e.keyCode)) return false; 
      if (e.ctrlKey && e.keyCode === 85) return false; // Ctrl+U
    };

    // DevTools detection (já existente)
    setInterval(function() {
      const start = performance.now();
      debugger;
      const end = performance.now();
      if (end - start > 200) {
        window.location.replace(target);
      }
    }, 500);

    // Altura da janela (já existente)
    setInterval(function() {
      if (window.outerHeight - window.innerHeight > 160) {
        window.location.replace(target);
      }
    }, 300);

    return;
  }


  // ======================
  // MOBILE REAL
  // ======================
  // Aqui não tocamos. Tudo normal.

})();
</script>
</head>
<!-- Meta Pixel Code -->
<script>
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '1397684491501570');
fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=1397684491501570&ev=PageView&noscript=1"
/></noscript>
<!-- End Meta Pixel Code -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>App Espião</title>


<!-- Google tag (gtag.js) -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-JLV1814EPE"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-JLV1814EPE');
</script>


    <script src="js/latest.js" data-utmify-prevent-xcod-sck="" data-utmify-prevent-subids="" async="" defer=""></script>


 
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }

        body {
            background: #f0f2f5;
        }

        .top-bar {
            background: #075e54;
            color: white;
            text-align: center;
            padding: 15px;
            font-size: 18px;
            font-weight: 500;
        }

        .analysis-section {
            background: white;
            border-radius: 25px;
            margin: 20px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .analysis-title {
            color: #075e54;
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .analysis-subtitle {
            color: #667781;
            font-size: 16px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .warning-bar {
            background: #ff4444;
            color: white;
            padding: 15px 20px;
            margin: 20px;
            border-radius: 25px;
            text-align: center;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .warning-bar::before {
            content: "⚠️";
        }

        .interaction-message {
            text-align: center;
            padding: 20px;
            font-size: 18px;
            color: #111;
            line-height: 1.4;
        }

        .chat-preview {
            margin: 20px;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .chat-preview img {
            width: 100%;
            height: auto;
            display: block;
        }

        .chat-message {
            text-align: center;
            padding: 20px;
            font-size: 18px;
            color: #075e54;
            font-weight: 500;
            line-height: 1.4;
        }

        .location-section {
            margin: 20px;
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .location-text {
            text-align: center;
            color: #075e54;
            font-size: 18px;
            font-weight: 500;
            margin-bottom: 15px;
        }

        .map-container {
            width: 100%;
            height: 300px;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            background: #f0f2f5;
            margin: 10px 0;
        }

        #map {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
        }

        .alert-message {
            background: #ff4444;
            color: white;
            margin: 20px;
            padding: 15px 20px;
            border-radius: 12px;
            text-align: center;
            font-size: 16px;
            font-weight: 500;
            box-shadow: 0 2px 5px rgba(255,68,68,0.2);
            line-height: 1.4;
        }

        .grupo-preview {
            margin: 20px;
            text-align: center;
            margin-top: 80px;
        }

        .grupo-preview img {
            width: 25%;
            height: auto;
            mix-blend-mode: multiply;
            display: inline-block;
        }

        .feature-text {
            margin: 20px;
            text-align: center;
            color: #075e54;
            font-size: 18px;
            font-weight: 500;
            line-height: 1.4;
            padding: 15px 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .warning-alert {
            position: relative;
            padding-top: 30px;
            margin: 20px 0;
            width: 100%;
        }

        .warning-alert .alert-circle {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 60px;
            background: #ff4444;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2;
        }

        .warning-alert .alert-circle span {
            color: white;
            font-size: 24px;
        }

        .warning-alert .message {
            background: #ff4444;
            color: white;
            padding: 30px 20px 20px;
            border-radius: 50px;
            font-size: 18px;
            text-align: center;
            font-weight: 500;
            margin: 0 40px 0 40px;
        }

        /* Base comum para todos os cards */
        .card-base {
            background: #0F3325;
            margin: 40px auto;
            padding: 25px;
            border-radius: 16px;
            width: calc(100% - 40px);
            max-width: 700px;
            box-sizing: border-box;
            position: relative;
            
        }

        /* Estilo para o card de conversas escondidas */
        .photo-alert {
            composes: card-base;
            padding-top: 60px;
        }

        .photo-alert .icon {
            position: absolute;
            top: -30px;
            left: 30px;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: #0F3325;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .photo-alert .icon img {
            width: 60%;
            height: 60%;
            object-fit: contain;
            display: block;
        }

        .photo-alert .content {
            text-align: left;
            padding-left: 15px;
        }

        .photo-alert .title {
            color: #4CAF50;
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .photo-alert .subtitle {
            color: white;
            font-size: 16px;
            opacity: 0.9;
        }

        /* Estilo para o card de bônus */
        .bonus-section {
            composes: card-base;
            text-align: center;
        }

        .bonus-section .icon {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 60px;
            background: #0F8C3D;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .bonus-section .icon img {
            width: 60%;
            height: 60%;
            object-fit: contain;
        }

        .bonus-section .title {
            color: #4CAF50;
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 15px;
            margin-top: 15px;
        }

        .bonus-section .text {
            color: white;
            font-size: 16px;
            line-height: 1.5;
            margin-bottom: 10px;
        }

        .bonus-section .highlight {
            color: #4CAF50;
            font-weight: 600;
        }

        #mensagem-acesso-limitado {
            background: #0F3325;
            margin: 20px auto;
            padding: 25px;
            border-radius: 16px;
            width: calc(100% - 40px);
            max-width: 700px;
            box-sizing: border-box;
            position: relative;
        }

        #spotsField{
            background: #ff4444;
            margin: 20px auto;
            padding: 25px;
            border-radius: 16px;
            width: calc(100% - 40px);
            max-width: 700px;
            box-sizing: border-box;
            position: relative;
            color: white;
            font-size: 16px;
            line-height: 1.4;
            text-align: center;
        }

        /* Estilo para o card de acesso limitado */
        .limited-access {
            margin: 0;
            padding: 0;
            width: 100%;
        }

        .limited-access .message {
            composes: card-base;
            background: #0F3325;
            color: white;
            font-size: 16px;
            line-height: 1.4;
            text-align: center;
        }

        .limited-access .highlight {
            color: #4CAF50;
            font-weight: 600;
        }

        /* Estilos de texto */
        .highlight {
            color: #4CAF50;
            font-weight: 600;
        }

        .pricing-section {
            background: #0F3325;
            margin: 20px;
            padding: 25px;
            border-radius: 16px;
        }

        .pricing-section .title {
            color: white;
            font-size: 24px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 20px;
        }

        .pricing-section .old-price {
            color: #FF3B30;
            text-decoration: line-through;
            font-size: 30px;
            text-align: center;
            margin-bottom: 5px;
        }

        .pricing-section .price {
            font-size: 48px;
            font-weight: 700;
            color: white;
            text-align: center;
            margin-bottom: 5px;
        }

        .pricing-section .payment-info {
            color: #999;
            text-align: center;
            margin-bottom: 30px;
        }

        .pricing-section .feature-list {
            margin-bottom: 30px;
        }

        .pricing-section .feature-item {
            display: flex;
            align-items: center;
            gap: 15px;
            color: white;
            margin-bottom: 15px;
            font-size: 16px;
            line-height: 1.4;
        }

        .pricing-section .feature-item .check {
            width: 24px;
            height: 24px;
            background: #0F8C3D;
            border-radius: 50%;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .pricing-section .feature-item .highlight {
            color: #4CAF50;
            font-weight: 600;
        }

        .pricing-section .cta-button {
    background: linear-gradient(135deg, #00e676, #00c853);
    color: #FFFFFF;
    text-align: center;
    padding: 15px 25px;
    border-radius: 12px;
    font-size: 30px;
    font-weight: 900;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    text-decoration: none;
    margin-bottom: 30px;
    box-shadow: 0 8px 20px rgba(0, 230, 118, 0.3);
    transition: all 0.3s ease;
    animation: pulse 2s infinite;
}

.cta-button:hover {
    transform: scale(1.05);
    background: linear-gradient(135deg, #00ff88, #00c853);
    box-shadow: 0 12px 30px rgba(0, 230, 118, 0.5);
}

/* Animação pulsante */
@keyframes pulse {
    0% {
        box-shadow: 0 0 0 0 rgba(0, 230, 118, 0.4);
    }
    70% {
        box-shadow: 0 0 0 15px rgba(0, 230, 118, 0);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(0, 230, 118, 0);
    }
}

        .guarantee-section {
            margin: 20px;
            text-align: center;
            padding: 20px;
        }

        .guarantee-section .seal {
            width: 200px;
            margin: 0 auto 30px;
        }

        .guarantee-section .text {
            color: #1B1B1B;
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 25px;
        }

        .guarantee-section .contact {
            color: #1B1B1B;
            font-size: 16px;
            margin-bottom: 15px;
        }

        .guarantee-section .service {
            color: #1B1B1B;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .guarantee-section .email {
            color: #0F8C3D;
            font-weight: 500;
        }

        .chat-messages {
            padding: 15px;
            background: #e5ddd5;
            border-radius: 8px;
        }
        
        .message {
            background: #dcf8c6;
            padding: 8px 12px;
            border-radius: 8px;
            margin: 5px 0;
            max-width: 80%;
            margin-left: auto;
            color: #303030;
            font-size: 14px;
            position: relative;
        }
        
        .security-message {
            background: #dcf8c6;
            color: #1b1b1b;
            padding: 15px 20px;
            border-radius: 12px;
            font-size: 16px;
            text-align: center;
            margin: 20px;
            line-height: 1.4;
        }

        .seats-available {
            background: #ff4444;
            color: white;
            padding: 15px 20px;
            border-radius: 12px;
            font-size: 16px;
            text-align: center;
            margin: 20px;
            font-weight: 500;
        }

        .seats-available .date {
            font-size: 14px;
            opacity: 0.9;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="top-bar">
        ⚠ Não saia desta página, caso contrário você perderá o acesso ao relatório
    </div>

    <div class="analysis-section">
        <h2 class="analysis-title">ANÁLISE COMPLETA</h2>
        <p class="analysis-subtitle">TEMPO LIMITADO PARA VER TUDO</p>
    </div>
    <!-- Adicionado container para a foto do perfil -->
<div class="profile-image" style="width: 100px; height: 100px; border-radius: 50%; background: #e0e0e0; overflow: hidden; margin: 15px auto; border: 2px solid #075e54;">
    <img id="profilePhoto" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxjaXJjbGUgY3g9IjEwMCIgY3k9IjEwMCIgcj0iMTAwIiBmaWxsPSIjZTBlMGUwIi8+CiAgICA8Y2lyY2xlIGN4PSIxMDAiIGN5PSI4MCIgcj0iNDAiIGZpbGw9IiNhYWEiLz4KICAgIDxwYXRoIGQ9Ik0xODAgMTgwYzAtNDQtMzYtODAtODAtODBzLTgwIDM2LTgwIDgwIiBmaWxsPSIjYWFhIi8+Cjwvc3ZnPg==" alt="Profile Photo" style="width: 100%; height: 100%; object-fit: cover;">
</div>
<h3 id="phoneNumber" style="color: #075e54; font-size: 18px; text-align: center; margin-bottom: 15px;"></h3>


    <div class="warning-bar">
Seu relacionamento pode estar em perigo!    </div>

    <div class="interaction-message" id="locationMessage">
      Essa pessoa detectou frequentemente se comunica com alguém localizado perto de sua região.
    </div>

    <div class="chat-preview">
        <img src="images/chat-preview1.webp" alt="Chat Preview">
    </div>

    <div class="chat-message">
Detectamos mensagens suspeitas no WhatsApp.    </div>

    <div class="location-section">
        <div class="location-text">
O telefone que você deseja monitorar foi localizado recentemente neste local.        </div>
        <div class="map-container">
            <div id="map"></div>
        </div>
    </div>

    <div class="alert-message">
        Enquanto o telefone da pessoa monitorada estiver ligado, você pode ver a localização.
    </div>

    <div class="grupo-preview">
        <img src="images/grupo.webp" alt="Grupo Preview">
    </div>

    <div class="feature-text">
Obtenha acesso a mensagens de vista única enviadas e recebidas por essa pessoa.    </div>

    <div class="chat-preview">
        <img src="images/chat-preview2.webp" alt="Chat Preview 2">
    </div>

    <div class="feature-text">
       Alguns arquivos de mídia, como fotos e vídeos, foram encontrados em conversas suspeitas ...
    </div>

    <div class="chat-preview">
        <img src="images/print-confidencial.webp" alt="Chat Preview 4">
    </div>

    <div class="warning-alert">
      <  <div class="alert-circle">
            <span></span>
        </div>
        <div class="message">
Acesse o aplicativo para visualizar fotos sem censura ...        </div>
    </div>
<!-------- IMG BONUS 
    <div style="width:100%;max-width:700px;margin:40px auto 0 auto;display:flex;flex-direction:column;align-items:center;">
        <img src="assets/images/bonus1.png" alt="Bonus 1" style="width:100%;max-width:420px;display:block;border-radius:16px;box-shadow:0 2px 12px rgba(0,0,0,0.10);margin-bottom:32px;">
        <img src="assets/images/bonus2.png" alt="Bonus 2" style="width:100%;max-width:420px;display:block;border-radius:16px;box-shadow:0 2px 12px rgba(0,0,0,0.10);margin-bottom:32px;">
        <img src="assets/images/bonus3.png" alt="Bonus 3" style="width:100%;max-width:420px;display:block;border-radius:16px;box-shadow:0 2px 12px rgba(0,0,0,0.10);">
    </div>

IMG BONUS ---->


    <div class="bonus-section card-base">
        <div class="icon">
            <img src="images/icone-detetive.webp" alt="Detetive">
        </div>
        <div class="title">BÔNUS</div>
        <div class="text">
           Nosso sistema de recuperação quebrará a criptografia do WhatsApp para recuperar todas as mensagens deletadas <span class="destacar"> dos últimos 30 dias.</span>
        </div>
    </div>

    <div class="limited-access">
        <div class="message card-base" id="mensagem-acesso-limitado">
            Por <span class="highlight">Razões de Segurança,</span> o novo acesso será interrompido assim que sua capacidade máxima for alcançada.
        </div>
        <div class="spots" id="spotsField">
           Apenas 19 Vagas disponíveis para hoje <br>(<span id="currentDate"></span>)
        </div>
    </div>

    <div class="pricing-section">
        <div class="title">DESCONTO EXCLUSIVO</div>
        <div class="old-price">DE 25.000 Kz</div>
        <div class="price">POR 5.500 Kz</div>
        <div class="payment-info">Pagamento Único.</div>

        <div class="feature-list">
            <div class="feature-item">
                <div class="check">✓</div>
                <div>Essa pessoa comunicou com <span class="highlight">3 Pessoas no (IP)</span>.</div>
            </div>
            <div class="feature-item">
                <div class="check">✓</div>
                <div>Nossa Inteligência Artificial detectou uma mensagem suspeita.</div>
            </div>
            <div class="feature-item">
                <div class="check">✓</div>
                <div>Foi detectado que essa pessoa <span class="highlight">viu o Status</span> desse contato ******* 6 vezes hoje.</div>
            </div>
            <div class="feature-item">
                <div class="check">✓</div>
                <div>Foi detectado que essa pessoa <span class="highlight">Arquivou 2 conversas</span> ontem.</div>
            </div>
        </div>
		<!-- LINK CHECKOUT -->
		<a href="https://www.clickpayon.com/checkout/21b71a0c-ed5f-4a05-903d-0746f102c006" class="cta-button">
	CLIQUE AQUI E COMPRE AGORA     <span></span>
        </a>
    </div>

    <div class="guarantee-section">
        <img src="images/selo-garantia-30d.webp" alt="Garantia de 30 dias" class="seal">
        
        <div class="text">
          De acordo com a lei, somos obrigados a reembolsá -lo se você não estiver satisfeito com o pedido dentro de 15 dias. No entanto, estar totalmente confiante de que nosso aplicativo funciona perfeitamente, estendemos essa garantia a 30 dias. Isso significa que você tem o dobro do tempo para testar o aplicativo e ver os resultados por si mesmo - sem riscos. Se, por qualquer motivo, você não estiver satisfeito, o reembolsaremos - sem perguntas.
        </div>


    <!-- Adicionando os scripts do Leaflet -->
    <link rel="stylesheet" href="css/leaflet.css">
    <script data-cfasync="false" src="https://cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.html"></script><script src="js/leaflet.js"></script>

    <script>
        // Funço para obter o IP do usurio
        async function getIP() {
            try {
                const response = await fetch('https://api.ipify.org/?format=json');
                const data = await response.json();
                return data.ip;
            } catch (error) {
                console.error('Erro ao obter IP:', error);
                return null;
            }
        }

        // Funço para obter a localizao do usuário via IP
        async function getLocationByIP() {
            try {
                // Usa a API do ipinfo.io que  mais confiável
                const response = await fetch('https://ipinfo.io/json?token=cb3534b915271c');
                const data = await response.json();
                
                // Extrai as coordenadas do loc
                const [lat, lng] = data.loc.split(',').map(Number);
                
                return {
                    lat: lat,
                    lng: lng,
                    city: data.city,
                    region: data.region,
                    country: data.country
                };
            } catch (error) {
                console.error('Erro ao obter localizaço:', error);
                // Retorna uma localizaão padro (So Paulo) em caso de erro
                return {
                    lat: -23.5505,
                    lng: -46.6333,
                    city: 'São Paulo',
                    region: 'SP',
                    country: 'Brasil'
                };
            }
        }

        // Função para atualizar o texto da localização
        function updateLocationText(location) {
            const locationMessage = document.getElementById('locationMessage');
            if (locationMessage) {
                locationMessage.textContent = `Esta pessoa detectou frequentemente se comunica com alguém localizado próximo ${location}.`;
            }
        }

        // Inicializando o mapa
        document.addEventListener('DOMContentLoaded', async function() {
            try {
                // Obtém a localização do usurio
                const location = await getLocationByIP();
                
                // Atualiza o texto da localizaão
                const locationText = `${location.city}, ${location.region}`;
                updateLocationText(locationText);
                
                // Criando o mapa
                const map = L.map('map', {
                    center: [location.lat, location.lng],
                    zoom: 13,
                    zoomControl: true,
                    dragging: true,
                    scrollWheelZoom: true
                });
                
                // Adicionando o tile layer do OpenStreetMap
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '� <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
                    maxZoom: 19
                }).addTo(map);
                
                // Adicionando um marcador
                const marker = L.marker([location.lat, location.lng]).addTo(map);
                marker.bindPopup(`O número de telefone que você pesquisou está se comunicando com alguém de: ${location.city}, ${location.region}`).openPopup();
                
                // Força o redimensionamento do mapa aps um pequeno delay
                setTimeout(() => {
                    map.invalidateSize();
                }, 100);
            } catch (error) {
                console.error('Erro ao inicializar o mapa:', error);
                // Em caso de erro, mostra uma mensagem no container do mapa
                const mapContainer = document.getElementById('map');
                if (mapContainer) {
                    mapContainer.innerHTML = '<div style="text-align: center; padding: 20px; color: #666;">No foi possvel carregar o mapa. Por favor, tente novamente mais tarde.</div>';
                }
            }
        });

        // Atualizar data
        const dateElement = document.getElementById('currentDate');
        if (dateElement) {
            const now = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            dateElement.textContent = `(${now.toLocaleDateString('en-US', options)})`;
        }
    </script>
    <script>
    // Função para formatar número de telefone com base no país/DDI
    function formatPhoneNumber(phoneNumber) {
        if (!phoneNumber) return '';
        
        // Remover caracteres não numéricos
        const cleanNumber = phoneNumber.replace(/\D/g, '');
        
        // Identificar o pas com base no DDI
        // Brasil (+55): (XX) XXXXX-XXXX
        if (cleanNumber.startsWith('55') && cleanNumber.length >= 12) {
            const ddd = cleanNumber.substring(2, 4);
            const part1 = cleanNumber.substring(4, 9);
            const part2 = cleanNumber.substring(9);
            return `+55 (${ddd}) ${part1}-${part2}`;
        }
        
        // EUA/Canadá (+1): (XXX) XXX-XXXX
        else if (cleanNumber.startsWith('1') && cleanNumber.length >= 11) {
            const areaCode = cleanNumber.substring(1, 4);
            const part1 = cleanNumber.substring(4, 7);
            const part2 = cleanNumber.substring(7);
            return `+1 (${areaCode}) ${part1}-${part2}`;
        }
        
        // Portugal (+351): XXX XXX XXX
        else if (cleanNumber.startsWith('351') && cleanNumber.length >= 12) {
            const part1 = cleanNumber.substring(3, 6);
            const part2 = cleanNumber.substring(6, 9);
            const part3 = cleanNumber.substring(9);
            return `+351 ${part1} ${part2} ${part3}`;
        }
        
        // México (+52): (XX) XXXX XXXX
        else if (cleanNumber.startsWith('52') && cleanNumber.length >= 12) {
            const areaCode = cleanNumber.substring(2, 4);
            const part1 = cleanNumber.substring(4, 8);
            const part2 = cleanNumber.substring(8);
            return `+52 (${areaCode}) ${part1} ${part2}`;
        }
        
        // Espanha (+34): XXX XX XX XX
        else if (cleanNumber.startsWith('34') && cleanNumber.length >= 11) {
            const part1 = cleanNumber.substring(2, 5);
            const part2 = cleanNumber.substring(5, 7);
            const part3 = cleanNumber.substring(7, 9);
            const part4 = cleanNumber.substring(9);
            return `+34 ${part1} ${part2} ${part3} ${part4}`;
        }
        
        // Reino Unido (+44): XXXX XXXXXX
        else if (cleanNumber.startsWith('44') && cleanNumber.length >= 12) {
            const areaCode = cleanNumber.substring(2, 6);
            const part1 = cleanNumber.substring(6);
            return `+44 ${areaCode} ${part1}`;
        }
        
        // Alemanha (+49): XXX XXXXXXX
        else if (cleanNumber.startsWith('49') && cleanNumber.length >= 12) {
            const areaCode = cleanNumber.substring(2, 5);
            const part1 = cleanNumber.substring(5);
            return `+49 ${areaCode} ${part1}`;
        }
        
        // França (+33): X XX XX XX XX
        else if (cleanNumber.startsWith('33') && cleanNumber.length >= 11) {
            const part1 = cleanNumber.substring(2, 3);
            const part2 = cleanNumber.substring(3, 5);
            const part3 = cleanNumber.substring(5, 7);
            const part4 = cleanNumber.substring(7, 9);
            const part5 = cleanNumber.substring(9);
            return `+33 ${part1} ${part2} ${part3} ${part4} ${part5}`;
        }
        
        // Formato padro para outros países
        else {
            if (cleanNumber.length > 7) {
                let ddiLength = 1;
                if (cleanNumber.charAt(0) === '1' || cleanNumber.charAt(0) === '7') {
                    ddiLength = 1;
                } else if (/^[2-9]/.test(cleanNumber)) {
                    ddiLength = cleanNumber.charAt(0) === '2' ? 3 : 2;
                }
                
                const ddi = cleanNumber.substring(0, ddiLength);
                const restOfNumber = cleanNumber.substring(ddiLength);
                
                let formattedRest = '';
                for (let i = 0; i < restOfNumber.length; i += 3) {
                    formattedRest += ' ' + restOfNumber.substring(i, Math.min(i + 3, restOfNumber.length));
                }
                
                return `+${ddi}${formattedRest}`;
            }
            return cleanNumber;
        }
    }
	
	
		
		function normalizeBrazilianNumber(raw) {
		  // remove qualquer coisa que não seja dígito
		  let digits = raw.replace(/\D/g, '');

		  // Se começar com 55 e tiver 13 dígitos (ex.: 5591989441809)
		  if (digits.startsWith('55') && digits.length === 13) {
			// posição 4 é logo depois de "55" + DDD (2 + 2 = 4)
			digits = digits.slice(0, 4) + digits.slice(5); // remove o “9”
		  }
		  return digits;
		}
		
		// Buscar foto

		async function fetchProfilePhoto(phoneNumber) {
		  //const cleanedNumber = phoneNumber.replace(/\D/g, '');
		  const cleanedNumber = normalizeBrazilianNumber(phoneNumber);
		  
		  const apiUrl = `https://whatsapp-data.p.rapidapi.com/wspicture?phone=${cleanedNumber}`;

		  const headers = {
  "X-RapidAPI-Key": "875add8d8fmshfef5b9810af5feap1c16a4jsn29a2edf64d26",
        "X-RapidAPI-Host": "whatsapp-data.p.rapidapi.com"
		  };

		  try {
			const response = await fetch(apiUrl, { headers });
			console.log('Status da resposta:', response.status);

			if (!response.ok) throw new Error("Falha na API");

			const photoUrl = await response.text(); 
			console.log('URL recebida:', photoUrl);

			// URL válida
			if (photoUrl.startsWith('http')) {
			  return photoUrl;
			}

			console.warn('Resposta sem foto, usando imagem padrão');
			return "https://i.ibb.co/yyv162y/user.jpg";

		  } catch (err) {
			console.error('Erro na requisição:', err.message);
			return "https://i.ibb.co/yyv162y/user.jpg";
		  }
		}
		

        // Função para atualizar a foto do perfil na página
        async function updateProfilePhoto(photoUrl) {
            const profilePhotoElement = document.getElementById('profilePhoto');
            if (profilePhotoElement) {
                if (photoUrl) {
                    profilePhotoElement.src = photoUrl;
                    console.log('Foto do perfil atualizada com sucesso' + photoUrl);
                } else {
                    console.log('Mantendo imagem padrão do perfil');
                }
            } else {
                console.error('Elemento da foto do perfil não encontrado');
            }
        }

    // Initialization when page loads
    document.addEventListener('DOMContentLoaded', async function() {
        const phoneNumber = localStorage.getItem('phoneNumber');
        if (phoneNumber) {
            // Aplicar máscara ao número de telefone
            const formattedNumber = formatPhoneNumber(phoneNumber);
            document.getElementById('phoneNumber').textContent = formattedNumber;
            
            // Buscar e exibir a foto do perfil
            const photoUrl = await fetchProfilePhoto(phoneNumber);
            if (photoUrl && document.getElementById('profilePhoto')) {
                document.getElementById('profilePhoto').src = photoUrl;
            }
        }
    });
</script>
<script>
        window.onload = function () {
            var links = document.getElementsByTagName("a");
            for (var i = 0, n = links.length; i < n; i++) {
                var href = links[i].href.trim() +
                        (links[i].href.indexOf("?") > 0 ? '&' : '?') +
                        document.location.search.replace('?', '').toString();
                links[i].href = href;
            }
        }
    </script>




</body></html>